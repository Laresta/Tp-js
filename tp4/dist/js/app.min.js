class Article{id;title;description;constructor(e,t,i){this.id=e,this.title=t,this.description=i}createArticleHtml(){let e=$("<article> </article>"),t=$("<h3> </h3>"),i=$("<p> </p>"),r=$("<button> </button>"),l=$("#news");t.html(this.title),i.html(this.description),r.html("View detail"),this.bindButtonViewdetail(r[0],viewdetailClick),t.attr("class","title"),e.attr("id",this.id),e.append(t),e.append(i),e.append(r),l.append(e)}checkArticleUnicity(){let t=$(".title");var i=$("#addNewsForm");for(let e=0;e<t.length;e++)if(t[e].innerHTML.toLowerCase().trim()===this.title.toLowerCase().trim())return addError("Erreur article deja existant",i),!1;return!0}checkValue(){return""===this.title?(addError("Title vide",$("#addNewsForm")),!1):""!==this.description||(addError("Description vide",$("#addNewsForm")),!1)}addArticle(){return clearErrors(),!!this.checkValue()&&(!!this.checkArticleUnicity()&&(this.createArticleHtml(),!0))}bindButtonViewdetail(e,t){e.onclick=t}}const ROUGE="#FF0000",BLEU="#0000FF",VERT="#008000",ALLNEWSJSON=`[
						{"id": "4", "title": "News 4", "description": "Ma super news 4"},
						{"id": "5", "title": "News 5", "description": "Ma super news 5"}
					]`;function bindButton(e){e.onclick=function(e){e.preventDefault();let t=$('input[name="titleToAdd"]'),i=$('textarea[name="descriptionToAdd"]'),r=new Article(0,t.val(),i.val());return r.addArticle()&&(t.val(""),i.val("")),!1}}function clearErrors(){let e=$(".error");if(e)for(;0<e.length&&null!=e[0].parentNode;)e[0].remove(e[0])}function addError(e,t){let i=$("<p> </p>");i.html(e),i.css("color",ROUGE),i.attr("class","error"),t.prepend(i)}function viewdetailClick(){let e=$(this).parent().children("p"),t=$(this).parent().children(".title");changeCouleurPlusLogDateWithDate(e.html(),t.html())}function changementOnglet(e){let t;switch(e){case"Recherche":t=document.querySelector(".AjoutArticle"),t.hidden=!0,document.querySelector("div.Recherche").hidden=!1;break;case"AjoutArticle":t=document.querySelector(".Recherche"),t.hidden=!0,document.querySelector("div.AjoutArticle").hidden=!1}}function changeCouleurPlusLogDateWithDate(e,t){logMessageWithDate(e);let i=document.querySelectorAll(".title");for(let e=0;e<i.length;e++)i[e].textContent==t?i[e].style.color=VERT:i[e].style.color=ROUGE;return!1}function logMessageWithDate(e){let t=new Date;console.log(t.toLocaleString()+" : "+e)}let button=$('input[name="addNewsBtn"]')[0];function switchTab(){$(".onglet").hide(),$($(this).data("target")).show()}bindButton(button);let tabs=$(".tab");function iterate(){for(let e=0;e<5;e++)logMessageWithDate(e),0===e?logMessageWithDate(VERT):e%2==0?logMessageWithDate(ROUGE):logMessageWithDate(BLEU)}tabs.each(function(){$(this).click(switchTab)});const Articles={data(){return{articles:JSON.parse(ALLNEWSJSON)}}},newsTemplate=`<article>
			              <h3 class="title">{{ article.title }}</h3>
                    <p> {{article.description}} </p>
			              <button @click="viewdetailClick(article.description , article.title)">View detail</button>
		              </article>`,newsComponent={props:["article"],template:newsTemplate,methods:{viewdetailClick:changeCouleurPlusLogDateWithDate}};Vue.createApp(Articles).component("news",newsComponent).mount("#news");